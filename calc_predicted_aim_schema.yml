# Used for calculating match predictions about an alliance in Server
#
# Example:
#
# {
#    "match_number": 7,
#    "team_numbers": [1678, 760, 1649],
#    "alliance_color_is_red": true,
#    "has_actual_data": true,
#    "actual_score": 8,
#    "actual_rp1": 0.0053,
#    "actual_rp2": 1.1624,
#    "won_match": false,
#    "final_predicted_score": 6.0236,
#    "final_predicted_rp1": 4.967,
#    "final_predicted_rp2": 4.692,
#    "predicted_score": 1.1766,
#    "predicted_rp1": 2.187,
#    "predicted_rp2": 4.1169,
#    "win_chance": 0.8035
# }
#


# Contains information about this schema file
schema_file:
  # Version of schema file
  # Incremented every merged schema change
  version: 2

# Stores fields that will be added to database but do not require calculations
data:
  match_number:
    type: int
  team_numbers: 
    type: List 
  alliance_color_is_red:
    type: bool
  # Whether or not actual TBA data has been pulled to replace the predicted data
  has_actual_data:
    type: bool
  actual_score:
    type: int
  # Charge RP
  actual_rp1:
    type: float
  # Link RP
  actual_rp2:
    type: float
  won_match:
    type: bool
  # Predicted values at time of the actual match
  final_predicted_score:
    type: float
    requires: [obj_team, tba_team]
  final_predicted_rp1:
    type: float
    requires: [obj_team, tba_team]
  final_predicted_rp2:
    type: float
    requires: [obj_team]

# Information on predicted values that will be performed
predicted_values:
  predicted_score:
    type: float
    requires: [obj_team, tba_team]
  # Charge RP
  predicted_rp1:
    type: float
    requires: [obj_team, tba_team]
  # Link RP
  predicted_rp2:
    type: float
    requires: [obj_team]

predicted_probabilities:
  win_chance:
    type: float
    requires: predicted_score
